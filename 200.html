<!doctype html>
<html lang="en">

<head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Personal website of a Software Architect and Athlete" />
  <title>Álvaro Puertas Puñal - Software Architect & Athlete</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" /><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">  <!-- Script para cargar Google Maps API de manera directa -->
  <script>
    window.googleMapsInitialized = false;
    
    function gmapsLoaded() {
      console.log('Google Maps API cargada correctamente (callback global)');
      window.googleMapsInitialized = true;
      window.dispatchEvent(new Event('googleMapsLoaded'));
    }
    
    function gmapsError() {
      console.error('Error al cargar Google Maps API');
      window.dispatchEvent(new Event('googleMapsError'));
      
      // Mostrar mensaje visible en la consola
      console.error('%c⚠️ ERROR DE GOOGLE MAPS', 'background: #f44336; color: white; font-size: 16px; padding: 4px 8px;');
      console.error('%cRevisa que la API key sea válida y que no haya bloqueadores activados', 'font-size: 14px');
    }    // Cargar Google Maps con manejo de errores
    function loadGoogleMaps() {
      const script = document.createElement('script');
      
      // Intentar obtener la API key desde diferentes fuentes
      let apiKey;
      
      // Verificar si estamos en entorno Vite (desarrollo o producción)
      if (typeof import.meta !== 'undefined' && import.meta.env) {
        apiKey = import.meta.env.VITE_GOOGLE_MAPS_API_KEY;
      } 
      // Si estamos en entorno de GitHub Codespaces, intentar obtener de las variables globales
      else if (typeof process !== 'undefined' && process.env && process.env.GOOGLE_MAPS) {
        apiKey = process.env.GOOGLE_MAPS;
      }
      
      // Si no se encontró la API key, usar un valor de respaldo (esto debería cambiarse en producción)
      if (!apiKey) {
        console.warn('No se encontró la API key de Google Maps en las variables de entorno. Usando respaldo temporal.');
        // En producción, este fallback debería eliminarse
      }
      
      script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey || ''}&callback=gmapsLoaded`;
      script.async = true;
      script.defer = true;
      script.onerror = gmapsError;
      document.head.appendChild(script);
      
      // Si después de 5 segundos no se ha cargado, probablemente hay un problema
      setTimeout(() => {
        if (!window.googleMapsInitialized) {
          gmapsError();
        }
      }, 5000);
    }
    
    // Cargar cuando el DOM esté listo
    document.addEventListener('DOMContentLoaded', loadGoogleMaps);
  </script>
  
  <!-- Script para manejar redirecciones de URL en GitHub Pages con BrowserRouter -->
  <script type="text/javascript">
    // Este script comprueba si estamos siendo redirigidos desde 404.html
    (function(l) {
      if (l.search[1] === '/' ) {
        var decoded = l.search.slice(1).split('&').map(function(s) { 
          return s.replace(/~and~/g, '&')
        }).join('?');
        window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
        );
      }
    }(window.location))
  </script>
  <script type="module" crossorigin src="/personal/assets/main-4R00s8MJ.js"></script>
  <link rel="stylesheet" crossorigin href="/personal/assets/main-BAu34AWX.css">
</head>

<body>  <div id="root"></div>
</body>
</html>